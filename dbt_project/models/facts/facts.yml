# models/facts/facts.yml
version: 2

models:
  - name: fact_regional_mortality
    description: "Facts about mortality by NUTS 2 regions"
    columns:
      - name: linear_index
        description: "Original linear index from source"
      - name: time_id
        description: "Foreign key to dim_time"
        tests:
          - not_null
          - relationships:
              to: ref('dim_time')
              field: time_id
      - name: geo_id
        description: "Foreign key to dim_geography"
        tests:
          - not_null
          - relationships:
              to: ref('dim_geography')
              field: geo_id
      - name: demographic_id
        description: "Foreign key to dim_demographics"
        tests:
          - relationships:
              to: ref('dim_demographics')
              field: demographic_id
      - name: disease_id
        description: "Foreign key to dim_disease"
        tests:
          - relationships:
              to: ref('dim_disease')
              field: disease_id

  - name: fact_ICD10_group_mortality
    description: "Facts about mortality by disease groups and sex"
    columns:
      - name: linear_index
        description: "Original linear index from source"
      - name: time_id
        description: "Foreign key to dim_time"
        tests:
          - not_null
          - relationships:
              to: ref('dim_time')
              field: time_id
      - name: demographic_id
        description: "Foreign key to dim_demographics"
        tests:
          - relationships:
              to: ref('dim_demographics')
              field: demographic_id
      - name: disease_id
        description: "Foreign key to dim_disease"
        tests:
          - relationships:
              to: ref('dim_disease')
              field: disease_id